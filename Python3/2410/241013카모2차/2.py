# [1,2,3,4,5,4,4,5,2,1]
# 숫자 2개만 사용해서만든 가장 긴 배열의 길이

"""
l 5
s: 5~1 range(l,0,-1)
j: l-s range(l-s)
i: 0~j range(j+1)
S j i
5 0 0 0:5
4 1 0 0:4
4 1 1 1:5
3 2 0 0:3 j+i:s+j+i
3 2 1 1:4
3 2 2 2:5
2 3 0 0:2
2 3 1 1:3
2 3 2 2:4
2 3 3 3:5
1 4 1 0:1
1 4 2 1:2
1 4 3 2:3
1 4 4 3:4


...

"""

"""
12345
1234
2345
123
234
345
"""
def function(s: str):
    n = len(s)
    if n < 3:
        return n
    lIdx = 0
    rIdx = 0
    hashMap = {}
    maxx = 2
    while rIdx < n:
        # print(s[lIdx:rIdx],lIdx, rIdx, hashMap,maxx)
        if len(hashMap) < 3:
            hashMap[s[rIdx]] = rIdx
            rIdx += 1
        if len(hashMap) == 3:
            minIdx = min(hashMap.values())
            del hashMap[s[minIdx]]
            lIdx = minIdx + 1

        print(s[lIdx:rIdx])
        maxx = max(maxx, rIdx - lIdx)
    return maxx

print(function([1, 2, 3, 4, 5])) # 5445

#
#
# def sol(S):
#     l = len(S)
#     for s in range(l, 0, -1):
#         for j in range(s):
#             for i in range(j+1):
#                 c = S[i: s + i-j]
#                 if len(set(c)) <= 2:
#                     return len(c),c
# #                 # print(s, j,i, c)
#
#
# print(sol([1, 2, 3, 4, 5]))


# print(sol([1, 2, 1, 2, 1, 2])) # 121212
# print(sol([1, 2, 3, 4, 5, 4, 4, 5, 2, 1])) # 5445
print(function([1, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           1, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           1, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1,
           3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1,1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1,1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1,1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1,1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1,1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1,1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3]))
# def sliding_window(arr):
#     l = len(arr)
#     for size in range(l, 0, -1):
#         for start in range(l - size + 1):
#             if len(set(arr[start:start + size])) <= 2:
#                 return len(arr[start:start + size])
#
#
# # Test the function
# print(sliding_window([1, 2, 3, 4, 5]))
# print(sliding_window([1, 2, 2, 1, 2]))
# print(sliding_window([1, 2, 3, 4, 5, 4, 4, 5, 2, 1, 3]))
